!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(function(){return(()=>{"use strict";var e={3:function(e,t,n){
/**
 * @package      npmjs.com/package/@yandeu/events (events.min.js)
 *
 * @author       Arnout Kazemier (https://github.com/3rd-Eden)
 * @copyright    Copyright (c) 2014 Arnout Kazemier
 * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}
 *
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events
 * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}
 */
var o=this&&this.__spreadArray||function(e,t){for(var n=0,o=t.length,i=e.length;n<o;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var i=n(506),s=function(e,t,n){void 0===n&&(n=!1),this.fn=e,this.context=t,this.once=n},r=function(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var r=new s(n,o||e,i);return e._events.has(t)?e._events.get(t).fn?e._events.set(t,[e._events.get(t),r]):e._events.get(t).push(r):(e._events.set(t,r),e._eventsCount++),e},h=function(e,t){0==--e._eventsCount?e._events=new Map:e._events.delete(t)},u=function(){function e(){this._events=new Map,this._eventsCount=0}return Object.defineProperty(e,"VERSION",{get:function(){return i.VERSION},enumerable:!1,configurable:!0}),e.prototype.eventNames=function(){return Array.from(this._events.keys())},e.prototype.listeners=function(e){var t=this._events.get(e);if(!t)return[];if(t.fn)return[t.fn];for(var n=0,o=t.length,i=new Array(o);n<o;n++)i[n]=t[n].fn;return i},e.prototype.listenerCount=function(e){var t=this._events.get(e);return t?t.fn?1:t.length:0},e.prototype.emit=function(e){for(var t,n,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(!this._events.has(e))return!1;var r,h=this._events.get(e);if(h.fn)return h.once&&this.removeListener(e,h.fn,void 0,!0),(t=h.fn).call.apply(t,o([h.context],i)),!0;var u=h.length;for(r=0;r<u;r++)h[r].once&&this.removeListener(e,h[r].fn,void 0,!0),(n=h[r].fn).call.apply(n,o([h[r].context],i));return!0},e.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},e.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},e.prototype.removeListener=function(e,t,n,o){if(!this._events.has(e))return this;if(!t)return h(this,e),this;var i=this._events.get(e);if(i.fn)i.fn!==t||o&&!i.once||n&&i.context!==n||h(this,e);else{for(var s=0,r=[],u=i.length;s<u;s++)(i[s].fn!==t||o&&!i[s].once||n&&i[s].context!==n)&&r.push(i[s]);r.length?this._events.set(e,1===r.length?r[0]:r):h(this,e)}return this},e.prototype.removeAllListeners=function(e){return e?this._events.delete(e)&&h(this,e):(this._events=new Map,this._eventsCount=0),this},Object.defineProperty(e.prototype,"off",{get:function(){return this.removeListener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addListener",{get:function(){return this.on},enumerable:!1,configurable:!0}),e}();t.Events=u},506:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.0.5"}},t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{Tap:()=>i});var e=n(3);const t=[{name:"pointer",enabled:!0,test:"onpointerdown"in window,events:{down:"pointerdown",move:"pointermove",up:"pointerup"}},{name:"touch",enabled:!0,test:"ontouchstart"in window&&window.navigator.maxTouchPoints>=1,events:{down:"touchstart",move:"touchmove",up:"touchend"}},{name:"mouse",enabled:!0,test:"onmousedown"in window,events:{down:"mousedown",move:"mousemove",up:"mouseup"}}];
/**
 * @package      npmjs.com/package/@yandeu/tap (tap.min.js)
 *
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/tap
 * @license      {@link https://github.com/yandeu/tap/blob/master/LICENSE|MIT}
 * @description  Inspired by tapjs (https://www.npmjs.com/package/tapjs)
 */
class i{constructor(t){this._events=new e.Events,this.domElement=null,this._isDown=!1,this._isPaused=!1,this.active={touch:!1,mouse:!1,pointer:!1},this.registered={touch:!1,mouse:!1,pointer:!1},this._currentPosition={x:-1,y:-1},this._lastPosition={x:-1,y:-1},this._isPointerLockAvailable="onpointerlockchange"in document,this._add(t)}static get VERSION(){return"0.0.3"}get isDown(){return this._isDown}set _position(e){e.x===this._currentPosition.x&&e.y==this._currentPosition.y||(this._lastPosition=this._currentPosition,this._currentPosition=e)}get currentPosition(){return this._currentPosition}get lastPosition(){return this._lastPosition}get isPaused(){return this._isPaused}pause(){this._isPaused=!0}resume(){this._isPaused=!1}_onPointerLockChange(){return new Promise((e=>{document.addEventListener("pointerlockchange",(t=>{e(t)}),{once:!0})}))}get pointerLock(){return{onceChange:this._onPointerLockChange,request:()=>new Promise(((e,t)=>this._isPointerLockAvailable?this.pointerLock.isLocked?t("Pointer is already locked!"):(this._onPointerLockChange().then((t=>{e(t)})),void this.once.down((()=>{var e;null===(e=this.domElement)||void 0===e||e.requestPointerLock()}))):t("PointerLock is not available!"))),exit:()=>new Promise(((e,t)=>{if(!this.pointerLock.isLocked)return t("Pointer is not locked!");this._onPointerLockChange().then((t=>{e(t)})),document.exitPointerLock()})),available:this._isPointerLockAvailable,isLocked:!!document.pointerLockElement}}get once(){return{down:e=>{this._events.once("down",(t=>{e(t)}))},move:e=>{this._events.once("move",(t=>{e(t)}))},up:e=>{this._events.once("up",(t=>{e(t)}))}}}get on(){return{down:e=>{this._events.on("down",(t=>{this._isPaused||e(t)}))},move:e=>{this._events.on("move",(t=>{this._isPaused||e(t)}))},up:e=>{this._events.on("up",(t=>{this._isPaused||e(t)}))}}}_add(e){const n=this.domElement=null!=e?e:window;n||console.warn("[tap] No domElement found!"),this._onDown=this._onDown.bind(this),this._onMove=this._onMove.bind(this),this._onUp=this._onUp.bind(this),t.forEach((e=>{e.test&&e.enabled&&(this.active[e.name]=!0,n.addEventListener(e.events.down,this._onDown,!1),n.addEventListener(e.events.move,this._onMove,!1),n.addEventListener(e.events.up,this._onUp,!1))}))}_remove(e){if(!this.active[e])return;const n=this.domElement;n||console.warn("[tap] No domElement found!"),t.forEach((t=>{t.name===e&&(n.removeEventListener(t.events.down,this._onDown,!1),n.removeEventListener(t.events.move,this._onMove,!1),n.removeEventListener(t.events.up,this._onUp,!1))})),this.active[e]=!1}destroy(){this.pause(),Object.keys(this.active).forEach((e=>{this._remove(e)})),this._events.removeAllListeners(),this._events=null,this.domElement=null,this._isDown=null,this._isPaused=null,this.active=null,this.registered=null,this._currentPosition=null,this._lastPosition=null}_calcPosition(e){let t,n;return e.touches&&e.touches[0]?(t=e.touches[0].pageX,n=e.touches[0].pageY):e.clientX?(t=e.clientX,n=e.clientY):(t=this._currentPosition.x,n=this._currentPosition.y),this.pointerLock.isLocked&&(t=e.movementX,n=e.movementY),this._position={x:t,y:n},{x:t,y:n}}_removeDuplicates(e){return"pointerdown"===e.type&&(this.registered.pointer=!0),"touchstart"===e.type&&(this.registered.touch=!0),"mousedown"===e.type&&(this.registered.mouse=!0),"touchstart"===e.type&&this.active.touch&&this.registered.pointer?(this._remove("touch"),!1):"mousedown"!==e.type||!this.active.mouse||!this.registered.pointer&&!this.registered.touch||(this._remove("mouse"),!1)}_onDown(e){this._removeDuplicates(e)&&(this._isDown=!0,this._events.emit("down",{position:this._calcPosition(e),event:e}))}_onMove(e){this._events.emit("move",{position:this._calcPosition(e),event:e,dragging:this._isDown})}_onUp(e){this._isDown=!1,this._events.emit("up",{position:this._calcPosition(e),event:e})}}})(),o})()}));